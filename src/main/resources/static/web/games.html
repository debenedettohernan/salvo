<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Salvo!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link href="css/styles.css/styles.css" rel="stylesheet" type="text/css">
</head>

<body class="container">
    <main id=app>
        <div class="row">
            <form v-if="player == null" class="col-4">
                <div class="form-floating mb-3">
                    <input v-model="username" type="username" class="form-control" id="floatingInput" placeholder="name@example.com">
                    <label for="floatingInput">Email address</label>
                </div>
                <div class="form-floating mb-3">
                    <input v-model="password" type="password" class="form-control" id="floatingPassword" placeholder="Password">
                    <label for="floatingPassword">Password</label>
                </div>
                <button v-if="player == null" v-on:click="logIn" type="button" class="btn btn-primary col-3">Log in</button>
                <button v-on:click="sigIn" type="button" class="btn btn-primary col-3">Sing in</button>
            </form>
        </div>
        <div v-if="player !=null ">
            <h1>Welcome {{player.name}}</h1>
            <button v-on:click=" logOut " type="button " class="btn btn-primary col-1 ">Log out</button>
            <button v-on:click="createGame" type="button" class="btn btn-primary col-2">Create Game</button>

        </div>
        <div class="row ">
            <div class="col-4 ">
                <h1>Salvo</h1>
                <ul v-for="game in games ">
                    <li> <strong>{{game.date}} </strong>
                        <ul>
                            <li v-for="gamePlayer in game.gamePlayers ">
                                <span v-if="player != null && player.id == gamePlayer.player.id"><a v-bind:href="'game.html?gp=' + gamePlayer.id">{{gamePlayer.player.name}} </a></span>
                                <span v-else>{{gamePlayer.player.name}}</span>
                                <button v-if="player != null && game.gamePlayers.length == 1 && player.id != gamePlayer.player.id" v-on:click="joinGame(game.id)">join</button>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="col-8 ">
                <table class="text-center table table-dark table-bordered border-primary tables ">
                    <thead>
                        <th>player</th>
                        <th>
                            total wins
                        </th>
                        <th>
                            total ties
                        </th>
                        <th>
                            total losses
                        </th>
                        <th>
                            total score
                        </th>
                    </thead>
                    <tbody>
                        <tr v-for="scorePlayer in scorePlayers " class="text-center casillas ">
                            <td>{{scorePlayer.name}}</td>
                            <td>{{scorePlayer.winScore}}</td>
                            <td>{{scorePlayer.tiesScore}}</td>
                            <td>{{scorePlayer.lossesScore}}</td>
                            <td>{{scorePlayer.totalScore}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </main>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js "></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js " integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=" anonymous "></script>
    <script src="scripts/games.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js " integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf " crossorigin="anonymous "></script>
</body>

</html>